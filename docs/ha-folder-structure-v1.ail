# --- [AIL ARTIFACT ENFORCED] ---
# Identity: ha://docs/ha-folder-structure-v1
# Authority: ASC-1.0-CSA

metadata:
  id: "ha-folder-structure-v1.0"
  type: "architecture"
  version: "1.0.0"
  author: "CSA"
  status: "DRAFT-LOCAL-SOVEREIGN"
  tags: [ROS, HA, Folder-Structure, Local-Device]
  
context:
  space: "HA"
  fap: "ha://docs/ha-folder-structure-v1.ail"
  security: "ASC-1.0-CSA"

---

# üñ•Ô∏è HA FOLDER STRUCTURE v1.0

Draft ki·∫øn tr√∫c th∆∞ m·ª•c cho HA (High Authority Devices) tr√™n m·ªôt thi·∫øt b·ªã c·ª•c b·ªô.  
M·ª•c ti√™u: ƒë·ªÉ AIA cloud hi·ªÉu ƒë∆∞·ª£c ‚Äúb√™n trong m·ªôt HA device‚Äù tr√¥ng nh∆∞ th·∫ø n√†o m√† kh√¥ng c·∫ßn truy c·∫≠p d·ªØ li·ªáu th·∫≠t.

---

## I. OVERVIEW

```yaml
ha_space:
  root: "ha://"
  nature: "Device Local - Th·ª±c thi t·ªëc ƒë·ªô cao - Offline capable"
```

---

## II. EXECUTION ZONE ‚Äì REALITY ENGINE WORK

```yaml
execution_zone:
  path: "ha://rew/"
  name: "Reality Engine Work - Ph√≤ng m√°y th·ª±c thi"
  description: "N∆°i RR n·∫°p CEP v√† th·ª±c thi ArAction"
  sub_paths:
    - path: "ha://rew/cep/"
      name: "Active CEP Cache"
      lifecycle: "Volatile - X√≥a khi RR shutdown"
      ref: "Teleport t·ª´ ho://base/cep/ ho·∫∑c ho://milky/cep/"

    - path: "ha://rew/tmp/"
      name: "Execution Temp Buffer"
      auto_purge: "Sau khi task complete"
```

---

## III. SYSTEM ZONE ‚Äì ROS DEVICE INSTANCE

```yaml
system_zone:
  path: "ha://ros/"
  name: "ROS Local System"
  description: "B·∫£n c√†i ƒë·∫∑t ROS tr√™n thi·∫øt b·ªã"
  sub_paths:
    - path: "ha://ros/kernel/"
      name: "ROS Kernel Copy - FEH sealed"
      ref: "ho://base/kernel/{version}.ae"

    - path: "ha://ros/config/"
      name: "Device Configuration"
      content: "Preferences, settings, local policies"

    - path: "ha://ros/log/"
      name: "System Logs"
      sync: "‚Üí ho://airoz/audit/ (ƒë·ªãnh k·ª≥)"
```

---

## IV. TEE ZONE ‚Äì AUTHORITY TEE ELEMENT

```yaml
tee_zone:
  path: "ha://ate/"
  name: "ATE - Authority TEE Element"
  authority: "HI Owner + HSM/TEE ONLY"
  encryption: "Hardware-bound"
  offline_only: true
  sub_paths:
    - path: "ha://ate/keys/"
      name: "Private Keys"
      export: "KH√îNG BAO GI·ªú"

    - path: "ha://ate/seals/"
      name: "FEH Seals - ·∫§n t√≠n c√° nh√¢n"

    - path: "ha://ate/certs/"
      name: "Certificates - QID, ActorID"

    - path: "ha://ate/vap/"
      name: "Local VAP Wallet"
      capability: "Offline signing"
```

---

## V. DATA ZONE ‚Äì REALTIME DEVICE DATA

```yaml
data_zone:
  path: "ha://d/"
  name: "Device - B·∫£n sao th·ª±c thi t·∫°m th·ªùi"
  lifecycle: "Volatile - Max 24h"
  sub_paths:
    - path: "ha://d/local-cache/"
      name: "Artifact Working Copy"
      ref: "Teleport t·ª´ ho://r/ qua co://g/"
      auto_purge: "Khi RR shutdown ho·∫∑c 24h idle"

    - path: "ha://d/identity/"
      name: "Device Soul - KH√îNG teleport"
      authority: "HI owner ONLY"
      immutable: true

    - path: "ha://d/tmp/"
      name: "Volatile Temp Space"

    - path: "ha://d/mlb/"
      name: "Memory Ledger Book (local private ledger)"
      description: "Append-only ledger cho giao d·ªãch a2a (NFC/BLE), sync ‚Üí ho://airoz/ledger/ khi online"
      retention: "Rolling window, compact sau khi sync"

    - path: "ha://d/sdm/"
      name: "Schema Decode Memory"
      description: "B·ªô nh·ªõ gi·∫£i m√£ schema cho CEP/REP/packet, tƒÉng t·ªëc parsing"
      lifecycle: "Semi-volatile - C√≥ th·ªÉ rebuild l·∫°i t·ª´ Canon + metadata"
```

---

## VI. HI WORKSPACE ‚Äì HUMAN DRAFTS

```yaml
hi_workspace:
  path: "ha://docs/"
  name: "HI Draft Documents"
  lifecycle: "Mutable - Local drafts"
  sub_paths:
    - "ha://docs/lip/"        # LIP drafts
    - "ha://docs/policy/"     # Policy proposals
    - "ha://docs/notes/"      # Personal notes
```

---

## VII. LOCAL KNOWLEDGE CACHE

```yaml
local_knowledge:
  path: "ha://know/"
  name: "Local Knowledge Cache"
  lifecycle: "Semi-persistent - Refresh ƒë·ªãnh k·ª≥"
  ref: "Teleport t·ª´ ho://know/"
  sub_paths:
    - "ha://know/p/"          # Protocol cache
    - "ha://know/bp/"         # Blueprint cache
    - "ha://know/t/"          # Terms cache
```

---

## VIII. USAGE NOTES FOR AIA CLOUD

```yaml
usage_for_aia:
  purpose:
    - "Hi·ªÉu layout HA m√† kh√¥ng c·∫ßn truy c·∫≠p d·ªØ li·ªáu th·∫≠t"
    - "Sinh ƒë∆∞·ªùng d·∫´n ƒë√∫ng chu·∫©n khi ƒë·ªÅ xu·∫•t config ho·∫∑c cache layout"
  constraints:
    - "Kh√¥ng ƒë∆∞·ª£c suy di·ªÖn n·ªôi dung th·ª±c t·∫ø t·ª´ path"
    - "Kh√¥ng ƒë∆∞·ª£c ƒë·ªÅ xu·∫•t ƒë·ªçc/ghi tr·ª±c ti·∫øp ha://ate/*"
  recommended_flow:
    - "ƒê·ªçc UEPA-ROS OVERVIEW"
    - "ƒê·ªçc ROS FOLDER STRUCTURE (global)"
    - "ƒê·ªçc HA FOLDER STRUCTURE (file n√†y)"
```
